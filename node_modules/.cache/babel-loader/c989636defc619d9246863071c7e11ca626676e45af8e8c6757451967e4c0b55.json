{"ast":null,"code":"import React,{useContext}from\"react\";import{CartContext}from\"../contexts/CartContext\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Cart=_ref=>{let{onClose}=_ref;const{cart,dispatch}=useContext(CartContext);const handleQuantityChange=(id,quantity)=>{if(quantity===0){dispatch({type:\"REMOVE_FROM_CART\",payload:id});}else{dispatch({type:\"UPDATE_QUANTITY\",payload:{id,quantity}});}};const totalAmount=cart.items.reduce((sum,item)=>sum+item.price*item.quantity,0);const discountedAmount=totalAmount>=1000?totalAmount*0.9:totalAmount;const handleCheckout=()=>{console.log(\"Замовлення:\",cart.items);alert(\"Замовлення оформлено!\");dispatch({type:\"CLEAR_CART\"});onClose();};return/*#__PURE__*/_jsxs(\"div\",{className:\"cart-modal\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,children:\"\\u2716\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041A\\u043E\\u0448\\u0438\\u043A\"}),cart.items.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"\\u041A\\u043E\\u0448\\u0438\\u043A \\u043F\\u043E\\u0440\\u043E\\u0436\\u043D\\u0456\\u0439\"}):/*#__PURE__*/_jsxs(\"div\",{children:[cart.items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"cart-item\",children:[/*#__PURE__*/_jsx(\"span\",{children:item.name}),/*#__PURE__*/_jsxs(\"span\",{children:[item.price,\" \\u0433\\u0440\\u043D\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item.id,item.quantity-1),children:\"-\"}),/*#__PURE__*/_jsx(\"span\",{children:item.quantity}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item.id,item.quantity+1),children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleQuantityChange(item.id,0),children:\"\\u0412\\u0438\\u0434\\u0430\\u043B\\u0438\\u0442\\u0438\"})]},item.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"cart-summary\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0417\\u0430\\u0433\\u0430\\u043B\\u044C\\u043D\\u0430 \\u0441\\u0443\\u043C\\u0430: \",totalAmount,\" \\u0433\\u0440\\u043D\"]}),totalAmount>=1000&&/*#__PURE__*/_jsx(\"p\",{children:\"\\u0417\\u043D\\u0438\\u0436\\u043A\\u0430: 10%\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u0414\\u043E \\u0441\\u043F\\u043B\\u0430\\u0442\\u0438: \",discountedAmount,\" \\u0433\\u0440\\u043D\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u0438 \\u0437\\u0430\\u043C\\u043E\\u0432\\u043B\\u0435\\u043D\\u043D\\u044F\"})]})]});};export default Cart;","map":{"version":3,"names":["React","useContext","CartContext","jsx","_jsx","jsxs","_jsxs","Cart","_ref","onClose","cart","dispatch","handleQuantityChange","id","quantity","type","payload","totalAmount","items","reduce","sum","item","price","discountedAmount","handleCheckout","console","log","alert","className","children","onClick","length","map","name"],"sources":["C:/Users/bogda/OneDrive/Рабочий стол/yumbox_react_project/src/components/Cart.js"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { CartContext } from \"../contexts/CartContext\";\n\nconst Cart = ({ onClose }) => {\n  const { cart, dispatch } = useContext(CartContext);\n\n  const handleQuantityChange = (id, quantity) => {\n    if (quantity === 0) {\n      dispatch({ type: \"REMOVE_FROM_CART\", payload: id });\n    } else {\n      dispatch({ type: \"UPDATE_QUANTITY\", payload: { id, quantity } });\n    }\n  };\n\n  const totalAmount = cart.items.reduce(\n    (sum, item) => sum + item.price * item.quantity,\n    0\n  );\n\n  const discountedAmount = totalAmount >= 1000 ? totalAmount * 0.9 : totalAmount;\n\n  const handleCheckout = () => {\n    console.log(\"Замовлення:\", cart.items);\n    alert(\"Замовлення оформлено!\");\n    dispatch({ type: \"CLEAR_CART\" });\n    onClose();\n  };\n\n  return (\n    <div className=\"cart-modal\">\n      <button className=\"close-button\" onClick={onClose}>\n        ✖\n      </button>\n      <h2>Кошик</h2>\n      {cart.items.length === 0 ? (\n        <p>Кошик порожній</p>\n      ) : (\n        <div>\n          {cart.items.map((item) => (\n            <div key={item.id} className=\"cart-item\">\n              <span>{item.name}</span>\n              <span>{item.price} грн</span>\n              <div>\n                <button\n                  onClick={() => handleQuantityChange(item.id, item.quantity - 1)}\n                >\n                  -\n                </button>\n                <span>{item.quantity}</span>\n                <button\n                  onClick={() => handleQuantityChange(item.id, item.quantity + 1)}\n                >\n                  +\n                </button>\n              </div>\n              <button onClick={() => handleQuantityChange(item.id, 0)}>\n                Видалити\n              </button>\n            </div>\n          ))}\n          <div className=\"cart-summary\">\n            <p>Загальна сума: {totalAmount} грн</p>\n            {totalAmount >= 1000 && <p>Знижка: 10%</p>}\n            <p>До сплати: {discountedAmount} грн</p>\n          </div>\n          <button onClick={handleCheckout}>Оформити замовлення</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Cart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}